% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/functions.R
\name{SampleOrdinal}
\alias{SampleOrdinal}
\title{Sample size for proportional odds ordinal logistic regression}
\usage{
SampleOrdinal(
  k,
  probs,
  EPP = 20,
  OR_min = NULL,
  power = 0.8,
  alpha = 0.05,
  fraction = 0.5,
  scenarios = FALSE,
  language = "es"
)
}
\arguments{
\item{k}{Integer. Total number of regression parameters in the model
(degrees of freedom consumed by all predictors). For continuous variables,
count 1 per variable. For categorical variables with m levels, count m-1.
For example: 3 continuous + 1 categorical with 4 levels = 3 + 3 = 6.}

\item{probs}{Numeric vector. Expected probabilities for each ordered category
(length J >= 3). Must sum to 1 (or will be rescaled).}

\item{EPP}{Numeric. Target events per parameter (default 20).}

\item{OR_min}{Numeric or NULL. Minimum clinically relevant OR to detect.}

\item{power}{Numeric. Desired power for OR_min component (default 0.80).}

\item{alpha}{Numeric. Significance level (default 0.05).}

\item{fraction}{Numeric. Fraction of subjects in group 1 for Hmisc::posamsize (default 0.5).}

\item{scenarios}{Logical. If TRUE, shows scenarios for EPP = 10, 20, 30, 40, 50.}

\item{language}{Character. 'es' (Spanish) or 'en' (English).}
}
\value{
Object of class 'SampleOrdinal' (list).
}
\description{
Calculates sample size for proportional odds ordinal logistic regression
with J ordered categories using the worst cumulative cut EPP approach.
Optionally includes power-based calculation via Hmisc::posamsize.
}
\details{
The parameter \code{k} must reflect the total degrees of freedom consumed
by all predictors, not simply the number of variables. This distinction is
critical: a model with 2 continuous variables and 1 categorical variable
with 5 levels requires k = 2 + 4 = 6, not k = 3.

Sample size calculations use \code{safe_ceiling()} instead of raw
\code{ceiling()} to avoid off-by-one errors caused by IEEE 754
floating-point imprecision (e.g. \code{1 - 0.9} not being exactly 0.1).
}
\examples{
# Depression scale: none, mild, moderate, severe
# Model with 5 continuous + 1 categorical (3 levels) = 5 + 2 = 7 parameters
probs_dep <- c(0.50, 0.20, 0.20, 0.10)
SampleOrdinal(k = 7, probs = probs_dep, EPP = 20)

# With power component
SampleOrdinal(k = 7, probs = probs_dep, EPP = 20, OR_min = 1.5)

# Multiple scenarios
SampleOrdinal(k = 7, probs = probs_dep, scenarios = TRUE)

}
\references{
Peduzzi P, Concato J, Kemper E, Holford TR, Feinstein AR (1996).
A simulation study of the number of events per variable in logistic
regression analysis. J Clin Epidemiol 49:1373-1379.

Harrell FE (2015). Regression Modeling Strategies. Springer.
}
